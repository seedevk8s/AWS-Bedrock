<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 28px; font-weight: bold; fill: #232f3e; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; fill: #545b64; }
      .label { font-family: Arial, sans-serif; font-size: 14px; fill: #232f3e; font-weight: 600; }
      .code { font-family: 'Courier New', monospace; font-size: 11px; fill: #232f3e; }
      .highlight { font-size: 15px; font-weight: 600; }
      .native-box { fill: #ffe6e6; stroke: #d13212; stroke-width: 3; rx: 10; }
      .langchain-box { fill: #e6ffe6; stroke: #1e8900; stroke-width: 3; rx: 10; }
      .code-box { fill: #ffffff; stroke: #879596; stroke-width: 1.5; rx: 5; }
    </style>
  </defs>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">boto3 vs LangChain 비교</text>
  <text x="600" y="65" text-anchor="middle" class="subtitle">같은 작업, 다른 코드 복잡도</text>

  <!-- Left: Native boto3 -->
  <rect class="native-box" x="50" y="100" width="520" height="550"/>
  <text x="310" y="140" text-anchor="middle" class="label" style="fill: #d13212; font-size: 20px;">bedrock.py (boto3 직접 사용)</text>

  <!-- Request 구성 -->
  <rect class="code-box" x="80" y="170" width="460" height="180"/>
  <text x="100" y="195" class="label" style="fill: #d13212;">1단계: 요청 객체 수동 구성</text>
  <text x="100" y="220" class="code">native_request = {</text>
  <text x="120" y="240" class="code">  "inputText": prompt,</text>
  <text x="120" y="260" class="code">  "textGenerationConfig": {</text>
  <text x="140" y="280" class="code">    "maxTokenCount": 512,</text>
  <text x="140" y="300" class="code">    "temperature": 0.5,</text>
  <text x="120" y="320" class="code">  }</text>
  <text x="100" y="340" class="code">}</text>

  <!-- JSON 변환 -->
  <rect class="code-box" x="80" y="370" width="460" height="60"/>
  <text x="100" y="395" class="label" style="fill: #d13212;">2단계: JSON 변환</text>
  <text x="100" y="420" class="code">request = json.dumps(native_request)</text>

  <!-- API 호출 -->
  <rect class="code-box" x="80" y="450" width="460" height="60"/>
  <text x="100" y="475" class="label" style="fill: #d13212;">3단계: API 호출</text>
  <text x="100" y="500" class="code">response = client.invoke_model(</text>
  <text x="120" y="520" class="code">modelId=model_id, body=request)</text>

  <!-- 응답 파싱 -->
  <rect class="code-box" x="80" y="530" width="460" height="100"/>
  <text x="100" y="555" class="label" style="fill: #d13212;">4단계: 응답 수동 파싱</text>
  <text x="100" y="580" class="code">model_response = json.loads(</text>
  <text x="120" y="600" class="code">response["body"].read())</text>
  <text x="100" y="620" class="code">text = model_response["results"][0]["outputText"]</text>

  <!-- Right: LangChain -->
  <rect class="langchain-box" x="630" y="100" width="520" height="550"/>
  <text x="890" y="140" text-anchor="middle" class="label" style="fill: #1e8900; font-size: 20px;">bedrock_langchain.py (LangChain)</text>

  <!-- 모델 초기화 -->
  <rect class="code-box" x="660" y="170" width="460" height="80"/>
  <text x="680" y="195" class="label" style="fill: #1e8900;">1단계: 모델 초기화</text>
  <text x="680" y="220" class="code">llm = ChatBedrock(</text>
  <text x="700" y="240" class="code">model_id="amazon.titan-text-express-v1")</text>

  <!-- 메시지 생성 -->
  <rect class="code-box" x="660" y="270" width="460" height="100"/>
  <text x="680" y="295" class="label" style="fill: #1e8900;">2단계: 메시지 생성</text>
  <text x="680" y="320" class="code">messages = [</text>
  <text x="700" y="340" class="code">HumanMessage(content="응원의 말을 해줘")</text>
  <text x="680" y="360" class="code">]</text>

  <!-- API 호출 (간단!) -->
  <rect class="code-box" x="660" y="390" width="460" height="60" fill="#d4f4dd"/>
  <text x="680" y="415" class="label" style="fill: #1e8900;">3단계: 호출 (끝!)</text>
  <text x="680" y="440" class="code">response = llm.invoke(messages)</text>

  <!-- 결과 -->
  <rect class="code-box" x="660" y="470" width="460" height="60"/>
  <text x="680" y="495" class="label" style="fill: #1e8900;">4단계: 결과 사용</text>
  <text x="680" y="520" class="code">print(response.content)  # 자동 파싱됨!</text>

  <!-- Benefits -->
  <rect x="660" y="550" width="460" height="80" fill="#1e8900" rx="8"/>
  <text x="890" y="580" text-anchor="middle" class="highlight" fill="white">✓ JSON 변환 자동</text>
  <text x="890" y="605" text-anchor="middle" class="highlight" fill="white">✓ 에러 처리 자동</text>
  <text x="890" y="630" text-anchor="middle" class="highlight" fill="white">✓ 응답 파싱 자동</text>

  <!-- Bottom comparison -->
  <rect x="50" y="670" width="520" height="20" fill="#d13212"/>
  <text x="310" y="685" text-anchor="middle" class="label" fill="white">복잡도: 높음 (4단계 + 수동 처리)</text>

  <rect x="630" y="670" width="520" height="20" fill="#1e8900"/>
  <text x="890" y="685" text-anchor="middle" class="label" fill="white">복잡도: 낮음 (3단계, 대부분 자동)</text>
</svg>
